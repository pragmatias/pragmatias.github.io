(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{171:function(e,t,o){"use strict";o.r(t);var r=o(0),s=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content"},[o("h1",{attrs:{align:"center"}},[e._v("ClusterHadoop")]),e._v(" "),o("p",[e._v("Here, you will find some scripts and config files to create a small cluster with docker container")]),e._v(" "),o("h2",{attrs:{align:"center"}},[e._v("Todo List")]),e._v(" "),o("ul",[o("li",[e._v("[ ] Add Spark node in the cluster (container + node)")]),e._v(" "),o("li",[e._v('[ ] Use the configCluster.cfg file to configure the cluster with the script "manageCluster.sh"')]),e._v(" "),o("li",[e._v("[ ] Hadoop configuration files modification to use less memory")]),e._v(" "),o("li",[e._v("[ ] Management of the docker command return")])]),e._v(" "),o("h2",{attrs:{align:"center"}},[e._v("Scripts")]),e._v(" "),o("ul",[o("li",[e._v("The main script is "),o("code",[e._v("manageCluster.sh")])]),e._v(" "),o("li",[e._v("To build the centos container "),o("code",[e._v("./manageCluster.sh build")])]),e._v(" "),o("li",[e._v("To deploy the cluster "),o("code",[e._v("./manageCluster.sh deploy")])]),e._v(" "),o("li",[e._v("To destroy the cluster "),o("code",[e._v("./manageCluster.sh destroy")])]),e._v(" "),o("li",[e._v("To configure the cluster (ssh & hosts) "),o("code",[e._v("./manageCluster.sh config")])])]),e._v(" "),o("h2",{attrs:{align:"center"}},[e._v("Docker Tips")]),e._v(" "),o("ul",[o("li",[e._v("Build an Image : "),o("code",[e._v("docker build <folder>/. -t <image_name> -f <dockerfile>")])]),e._v(" "),o("li",[e._v("to Run a container : "),o("code",[e._v("docker run -Pd -v <folder_host>:<folder_container> --network <network_name> --name <container_name> -it -h <container_name> <image_name>")])]),e._v(" "),o("li",[e._v("Enter in the container : "),o("code",[e._v("docker exec -u <user> -it <container_name> bash")])]),e._v(" "),o("li",[e._v("To kill a container : "),o("code",[e._v("docker kill <container_name>")])]),e._v(" "),o("li",[e._v("To remove a container : "),o("code",[e._v("docker rm <container_name>")])]),e._v(" "),o("li",[e._v("To list the container : "),o("code",[e._v("docker ps -a")])]),e._v(" "),o("li",[e._v("To list the network : "),o("code",[e._v("docker network list")])])]),e._v(" "),o("h2",{attrs:{align:"center"}},[e._v("Install Docker on OpenSuse")]),e._v(" "),o("h3",{attrs:{id:"general-install"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#general-install","aria-hidden":"true"}},[e._v("#")]),e._v(" General install")]),e._v(" "),o("ul",[o("li",[e._v("Install docker package : "),o("code",[e._v("sudo zypper in docker")])]),e._v(" "),o("li",[e._v("Start the systemd service : "),o("code",[e._v("sudo systemctl start docker")])]),e._v(" "),o("li",[e._v("Activate the systemd service (boot) : "),o("code",[e._v("sudo systemctl enable docker")])]),e._v(" "),o("li",[e._v('Add group "docker" for the user : '),o("code",[e._v("sudo usermod -G docker -a <username>")])])]),e._v(" "),o("h3",{attrs:{id:"proxy-config"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#proxy-config","aria-hidden":"true"}},[e._v("#")]),e._v(" Proxy config")]),e._v(" "),o("ol",[o("li",[e._v("Create systemd/docker folder : "),o("code",[e._v("mkdir -p /etc/systemd/system/docker.service.d")])]),e._v(" "),o("li",[e._v("Create the file http-proxy.conf")]),e._v(" "),o("li",[o("code",[e._v('sudo echo "[Service]" > /etc/systemd/system/docker.service.d/http-proxy.conf')])]),e._v(" "),o("li",[o("code",[e._v('sudo echo "Environment=\\"HTTP_PROXY=http://user:pwd@ip:port/\\"" >> /etc/systemd/system/docker.service.d/http-proxy.conf')])]),e._v(" "),o("li",[o("code",[e._v('sudo echo "Environment=\\"HTTPS_PROXY=http://user:pwd@ip:port/\\"" >> /etc/systemd/system/docker.service.d/http-proxy.conf')])]),e._v(" "),o("li",[e._v("Restart docker service : "),o("code",[e._v("sudo systemctl restart docker")])])]),e._v(" "),o("h2",{attrs:{align:"center"}},[e._v("Info")]),e._v("\n### Using Alpine container\n- Alpine Java don't work with hadoop cluster (java issues / musl instead of glibc)")])}],!1,null,null,null);t.default=s.exports}}]);